# 任务详细说明

## 概述

本项目包含多个任务，每个任务对应一个智能体的特定功能。任务定义了智能体需要完成的工作内容、预期输出和执行上下文。

## 任务列表

### 1. 微生物识别任务 (MicroorganismIdentificationTask)

**文件**: `tasks/microorganism_identification_task.py`

**关联智能体**: EngineeringMicroorganismIdentificationAgent

**任务描述**: 
分析处理含有特定污染物的污水的需求，使用数据查询工具查询相关数据：
1. 识别目标污染物
2. 查询相关的基因和微生物数据
3. 评估数据完整性
4. 生成结构化报告

**预期输出**:
提供一个分析报告，必须包含以下内容：
1. 识别的污染物名称
2. 查询到的具体基因数据（如果有）
3. 查询到的具体微生物数据（如果有）
4. 数据完整性和可信度评估

**参数**:
- `user_requirement`: 用户的水质处理需求
- `feedback` (可选): 上一轮评估的反馈信息

### 2. 微生物菌剂设计任务 (MicrobialAgentDesignTask)

**文件**: `tasks/microbial_agent_design_task.py`

**关联智能体**: MicrobialAgentDesignAgent

**任务描述**:
根据水质净化目标和工程微生物组设计高性能微生物菌剂：
1. 分析工程微生物组提供的功能微生物和代谢互补微生物
2. 遍历微生物组合，形成多个候选菌剂群落
3. 使用ctFBA方法计算各候选群落的代谢通量
4. 根据代谢通量和群落稳定性选择最优菌剂

**预期输出**:
提供一个详细的微生物菌剂设计方案，必须包含以下内容：
1. 候选菌剂组合列表
2. 每个候选菌剂的代谢通量计算结果
3. 最优菌剂选择理由
4. 菌剂配比和应用建议

**参数**:
- `user_requirement`: 用户的水质处理需求
- `context`: 上游任务的输出（微生物识别任务的结果）

### 3. 微生物菌剂评估任务 (MicrobialAgentEvaluationTask)

**文件**: `tasks/microbial_agent_evaluation_task.py`

**关联智能体**: MicrobialAgentEvaluationAgent

**任务描述**:
评估微生物菌剂的生物净化效果和群落生态特性：
1. 分析菌剂设计方案和相关数据
2. 计算各项评估指标
3. 重点关注群落稳定性和结构稳定性是否达到标准
4. 提供明确的决策建议

**预期输出**:
提供一个评估报告，必须包含以下内容：
1. 各维度评分（满分10分）
2. 核心标准评估结果（群落稳定性和结构稳定性）
3. 决策建议（通过或回退重新识别）
4. 如果需要回退，提供具体的改进建议

**参数**:
- `context`: 上游任务的输出（微生物菌剂设计任务的结果）

### 4. 实施方案生成任务 (ImplementationPlanGenerationTask)

**文件**: `tasks/implementation_plan_generation_task.py`

**关联智能体**: ImplementationPlanGenerationAgent

**任务描述**:
根据微生物菌剂和评估报告生成完整的微生物净化技术落地方案：
1. 菌剂获取方案
2. 制剂储运方案
3. 投加策略
4. 监测应急方案

**预期输出**:
提供一个完整的实施方案，必须包含以下内容：
1. 菌剂获取的合法渠道和具体步骤
2. 制剂的储存和运输条件
3. 详细的投加策略和时间安排
4. 监测计划和应急处理措施

**参数**:
- `context`: 上游任务的输出（微生物菌剂评估任务的结果）

### 5. 任务协调任务 (TaskCoordinationTask)

**文件**: `tasks/task_coordination_task.py`

**关联智能体**: TaskCoordinationAgent

**任务描述**:
根据任务执行情况和评估结果，智能地决定下一步应该执行哪个任务：
1. 分析当前任务执行状态
2. 根据评估结果决定下一步行动
3. 协调各任务之间的执行顺序

**预期输出**:
提供任务调度决策，明确下一步应该执行的任务。

**参数**:
- 无特定参数，主要依赖于整体工作流状态

## 任务依赖关系

任务之间存在明确的依赖关系：
1. 微生物识别任务 → 微生物菌剂设计任务
2. 微生物菌剂设计任务 → 微生物菌剂评估任务
3. 微生物菌剂评估任务 → 实施方案生成任务

任务协调任务可以调度任何其他任务。

## 任务执行模式

### 1. 链式处理模式
任务按预定义的顺序依次执行，每个任务的输出作为下一个任务的输入。

### 2. 自主选择模式
任务协调智能体根据评估结果和工作流状态动态决定任务执行顺序，实现反馈闭环。

## 任务设计原则

1. **明确性**: 每个任务都有明确的描述和预期输出
2. **独立性**: 任务之间通过输入输出进行连接，保持相对独立
3. **可追溯性**: 任务输出包含足够的信息供下游任务使用
4. **可评估性**: 任务结果可以被评估智能体进行评价